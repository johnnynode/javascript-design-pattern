<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>
<body>
<div class='topBar'>
  <button id='a'>A</button>
</div>

<div class='banner'>
  <button id='b'>B</button>
</div>
  
</body>
</html>

<script>
var topBar = {
  init:function() {
    this.render();
    this.bind();
  },
  a:4,
  // render 函数用于获取页面元素
  render:function(){
    this.btnA = document.getElementById('a');
  },
  // bind 函数用于绑定事件
  bind:function() {
    var me = this;
    // 绑定点击事件 更新自身
    this.btnA.onclick = function () {
      me.change();
      console.log(me.a); // 输出当前的a
    }
  },
  change:function() {
    this.a = 5;
  }
};

var banner = {
  init:function() {
    this.render();
    this.bind();
  },
  // render 函数用于获取页面元素
  render:function(){
    this.btnB = document.getElementById('b');
  },
  // bind 函数用于绑定事件
  bind:function() {
    var me = this;
    this.btnB.onclick = function () {
      me.change();
    }
  },
  change:function() {
    console.log('topBar.a before: ', topBar.a);
    topBar.a = 40;
    console.log('topBar.a after: ', topBar.a);
  }
};

topBar.init();
console.log(topBar.a); // 8

banner.init();
</script>

<script>
/*
1. 页面初始化时输出4

2. 点击A时输出5

3. 再点击B时输出：
topBar.a before:  5
topBar.a after:  40

通过单例模式可以做到组件间的通信，全局作用域中只有一个实例，还可以做到实例间通信
*/
</script>